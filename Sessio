package Teatregrama;

public class Sessio {

    private Obra obra;
    private double preu;
    private String hora;
    private String dia;
    private Espectador[][] seients;

    // Constructor \\
    public Sessio(Obra obra, double preu, String hora, String dia, int fileres, int columnes) {
        this.obra = obra;
        this.preu = preu;
        this.hora = hora;
        this.dia = dia;
        this.seients = new Espectador[fileres][columnes];
    }

    public Obra getObra() {
        return this.obra;
    }

    public double getPreu() {
        return this.preu;
    }

    public String getHora() {
        return this.hora;
    }

    public String getDia() {
        return this.dia;
    }

    public Espectador[][] getSeients() {
        return this.seients;
    }

    public void setObra(Obra obra) {
        this.obra = obra;
    }

    public void setPreu(double preu) {
        this.preu = preu;
    }

    public void setHora(String hora) {
        this.hora = hora;
    }

    public void setDia(String dia) {
        this.dia = dia;
    }

    public boolean assignarSeient(Espectador espectador, int filera, int columna) {
        if(this.seients == null) {
            this.seients[filera][columna] = espectador;
            return true;
        }
        return false;
    }

    public boolean potEntrar(Obra obra, Espectador espectador) { 
        if(obra.getEdat() && espectador.majorEdat()) {
            if(espectador.teDiners(this.preu)) {
                return true;
            }
        }
        return false;
    }

    public double totalRecaudat() {
        int contador = 0;
        
        for(int i = 0;i < this.seients.length;i++) {
            for(int j = 0;j < this.seients[0].length;j++) {
                if(this.seients[i][j] != null)
                    contador++;
            }
        }
        return (Double)(contador * this.preu);
    }

    public String toString(String resultat) {
        resultat = "[Obra: "+this.obra.getTitol()+", Preu: "+this.preu+", Dia: "+this.dia+", Hora: "+this.hora+"]";
        return resultat;
    }
}
